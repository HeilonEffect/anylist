{% extends "base.html" %}
{% block body %}
<main ng-controller="UserCtrl">
	<table class="user-series-list">
		<tr>
			<td>Name</td>
			<td>Status</td>
			<td>Score</td>
			<td>Watched Episodes</td>
		</tr>
	{% for item in object_list %}
		<tr>
			<td><a href="{{ item.product.get_absolute_url }}">{{ item.product.title }}</a></td>
			<td class="get_status" id="{{ item.product.get_absolute_url }}" ng-click="status_move(this)">{{ item.status }}</td>
			{% if item.score %}
				<td>{{ item.score }}</td>
			{% else %}
				<td>-</td>
			{% endif %}
			<td>{{ item.series.count }} / {{ item.product.series.count }}</td>
		</tr>
	{% endfor %}
	</table>
</main>
{% endblock %}
{% block script %}
<script>
	defaultApp.controller('UserCtrl', ['$scope', '$http', '$location',
		function ($scope, $http, $location) {
			$scope.statuses = ['Planned', 'Watch', 'ReWatching', 'Watched', 'Deffered', 'Dropped'];
			$scope.status_move = function (elem) {
				console.log(elem);
			}
		}]);
</script>
{% endblock %}