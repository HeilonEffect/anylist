{% extends "base.html" %}
{% block body %}
<main ng-controller="DetailCtrl" class="series"><!--
	<form ng-submit="create_season()">
		<input type="number" placeholder="Number" ng-model="season.number">
		<input type="text" placeholder="Name" ng-model="season.name" class="text_field">
		<input type="submit" value="Create New Season">
	</form> -->
	<img src="/static/img/add.png" class="add_season" ng-click="create_season(seasons)">
	<div ng-repeat="season in seasons" class="series_block">
		<p>{[{season.number}]} Season</p>
		<form ng-submit="create_serie(season)" ng-if="token">
			<input type="number" placeholder="Number" ng-model="season.new_serie.number" required>
			<input type="text" placeholder="Name" ng-model="season.new_serie.name" class="text_field">
			<quick-datepicker ng-model="season.new_serie.start_date" disable-timepicker="true" date-format="MM/dd/yyyy"></quick-datepicker>
			<input type="number" ng-model="season.new_serie.length" placeholder="Length">
			<input type="submit" value="Add new Serie">
		</form>
		<ul>
			<li ng-repeat="serie in season.series" ng-mouseenter="serie_mouse_enter(serie)" class="serie" ng-mouseleave="serie_mouse_leave(serie)">
				<span class="number">{[{serie.number}]}</span>
				<span class="name">{[{serie.name}]}</span>
				<span class="start_date">{[{serie.start_date}]}</span>
				<span>
					<menu ng-show="serie.edit" ng-if="token" class="serie_menu">
						<li>Read</li>
						<li ng-click="edit_serie(serie)">Edit</li>
						<li>Delete</li>
					</menu>
				</span>
				<span class="length">{[{serie.length}]}</span>
			</li>
		</ul>
	</div>
	<nav class="detail">
		<div>
			<p>About</p>
			<a ng-repeat="content in contents" href="{[{content.url}]}">
				<p>{[{content.name}]}</p>
			</a>
		</div>
		<div>
			<input type="number" id="series_form"><span> / {[{count_series}]}</span><img id="plus_one_serie" src="/static/img/add-1.png">
			<select>
				<option>--> Add To List</option>
				<option ng-click="status_move(this, active_status)" ng-repeat="status in statuses" ng-selected="status==active_status">{[{status}]}</option>
			</select>
		</div>
	</nav>
</main>
{% endblock %}