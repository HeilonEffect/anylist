{% spaceless %}
<!doctype html>
<html lang="ru" ng-app="detailApp">
<head>
  	<meta charset="utf-8">
  	<title>Series page</title>
	<script src="/static/lib/angular.min.js"></script>
	<!--<script src="/static/lib/angular-cookies.min.js"></script>-->
	<script src="/static/datetimepicker_css.js"></script>

	<link rel="stylesheet" href="/static/series/style.css">
	<!--<script src="/static/series/controllers.js"></script>-->
</head>
<body ng-controller="DetailCtrl">
	<header>
		<h1>Series</h1>
		<section>
			<input type="search" ng-model="search" placeholder="Start enter name" ng-change="searcher(search)">
			<ul id="search_result" style="visibility:hidden">
				<li ng-repeat="item in search_result"><a href="{[{item.value}]}">{[{item.key}]}</a></li>
			</ul>
			{% if user.is_authenticated %}
				<a href="/profile">{{ user.username }}</a>
			{% endif %}
			<img src="/static/img/show_main_menu.png" ng-click="show_menu()">
			{% if user.is_authenticated %}
				<button ng-click="logout()">Log Out</button>
			{% else %}
				<button ng-click="login()">Log In</button>
			{% endif %}
		</section>
		<form style="visibility:hidden" id="auth_form">
			<input ng-model="auth.username" name="username" type="text" placeholder="Username">
			<input ng-model="auth.password" name="password" type="password" placeholder="Password">
			<input ng-model="auth.email" name="email" type="email" placeholder="Email">
			<input ng-model="auth.is_reg" type="checkbox" id="auth_check"><label for="auth_check">Register Me</label>
			<button ng-click="start_auth(auth)">Auth</button>
		</form>
	</header>
	{% comment %}Навигация по разделам{% endcomment %}
	<details style="visibility:hidden">
		{% for group in nav_groups %}
			<p>{{ group.name }}</p>
			<ul>
				{% for value in group.dashs %}
				<li>
					<a href="/{{ value.get_absolute_url }}">
						<figure>
							<img src="{{ value.avatar_path }}">
							<figcaption>{{ value }}</figcaption>
						</figure>
					</a>
				</li>
				{% endfor %}
			</ul>
		{% endfor %}
	</details>
	<div style="visibility:hidden" id="space" ng-click="hide_menu()"></div>
	<script>
		var detailApp = angular.module('detailApp', [
			'ngCookies'
		]).run(function ($http, $cookies) {
			$http.defaults.headers.post['X-CSRFToken'] = '{{ csrf_token }}';
		});

		detailApp.config(function ($interpolateProvider) {
			$interpolateProvider.startSymbol('[{');
			$interpolateProvider.endSymbol(']}');
		});

		detailApp.controller('DetailCtrl', ['$scope', function ($scope) {
			;
		}]);
	</script>
</body>
</html>
{% endspaceless %}